#!/bin/bash

CONTNAME=omnetpp
# SCRIPTDIR=`dirname "$0"`
SCRIPTDIR="$( cd "$(dirname "$0")" ; pwd -P )"

# check if we already have a docker container for omnetpp - run it otherwise
if [ ! "$(docker ps -q -f name=$CONTNAME)" ]; then
    if [ "$(docker ps -aq -f status=exited -f name=$CONTNAME)" ]; then
        # cleanup
        docker rm $CONTNAME
    fi
    # run the container via the X11 docker script
    source $SCRIPTDIR/../docker/dockerX11.sh --name $CONTNAME rover/omnetpp
else
   # container already exists - start it
   docker start -i $CONTNAME 
fi
